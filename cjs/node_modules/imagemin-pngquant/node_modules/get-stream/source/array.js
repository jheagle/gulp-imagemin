"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStreamAsArray = getStreamAsArray;
var _contents = require("./contents.js");
var _utils = require("./utils.js");
async function getStreamAsArray(stream, options) {
  return (0, _contents.getStreamContents)(stream, arrayMethods, options);
}
const initArray = () => ({
  contents: []
});
const increment = () => 1;
const addArrayChunk = (convertedChunk, {
  contents
}) => {
  contents.push(convertedChunk);
  return contents;
};
const arrayMethods = {
  init: initArray,
  convertChunk: {
    string: _utils.identity,
    buffer: _utils.identity,
    arrayBuffer: _utils.identity,
    dataView: _utils.identity,
    typedArray: _utils.identity,
    others: _utils.identity
  },
  getSize: increment,
  truncateChunk: _utils.noop,
  addChunk: addArrayChunk,
  getFinalChunk: _utils.noop,
  finalize: _utils.getContentsProp
};