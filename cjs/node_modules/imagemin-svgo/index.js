"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _nodeBuffer = require("node:buffer");
var _index = _interopRequireDefault(require("../is-svg/index.js"));
var _svgo = require("svgo");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const imageminSvgo = options => async buffer => {
  options = {
    multipass: true,
    ...options
  };
  if (!(0, _index.default)(buffer)) {
    return buffer;
  }
  if (_nodeBuffer.Buffer.isBuffer(buffer)) {
    buffer = buffer.toString();
  }
  const {
    data
  } = (0, _svgo.optimize)(buffer, options);
  return _nodeBuffer.Buffer.from(data);
};
var _default = exports.default = imageminSvgo;